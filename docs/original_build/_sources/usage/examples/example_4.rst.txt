Example 4
=========

Example 4 shows how infrastructure simulators can be integrated within an iRe-CoDeS system-of-systems model using the supply/demand interfaces. Such interfaces allow the integration of third-party infrastructure simulators to capture their interdependencies and their impact on buildings' functional recovery. Interfaces are tiered to accomodate infrastructure managers privacy and/or security concerns. Interface application is illustrated by extending the Example 3 North-East San Francisco Case Study to include the impact of infrastructure systems on building's functionality. Further details are available `here <https://link.springer.com/article/10.1007/s10669-023-09931-0>`_.

.. figure:: ../../figures/Example_4_infrastructure_interfaces.png
        :alt: Tiered supply/demand interfaces for infrastructure systems

        Tiered supply/demand infrastructure simulator interfaces. Tier 1 interface requires post-event resource supply dynamics defined per locality. Tier 2 interface additionally requires the information on the resources that the infrastructure system needs to operate on a locality level. Tier 3 interfaces needs component-level supply/demand dynamics.

Component library
-----------------

As Example 4 extends Example 3, building recovery activities, their duration and resource demand as well as the supply of recovery resources from the Emergency Response Center are identical as in Example 3. However, to include the consideration of infrastructure systems, the Example 3 component library file is supplemented as follows:

- operational demand of residential buildings for electric power, potable water and communication services is now considered and estimated based on building's occupancy (i.e., number of people residing in the building at each time step of the recovery simulation). Dummy values are set in the component library file and the true values are set when system is created in the SystemCreator class where building occupanc is set as well.

- two housing resources provided by buildings to their inhabitants are considered: shelter and functional housing. Supply of shelter is conditioned only on the building's damage state, while functional housing supply is also conditioned on the fulfillment of building's demand for infrastructure services.

- components representing the three infrastructure systems whose post-earthquake performance is evaluated using supply/demand interfaces are added.

EmergencyResponseCenter
```````````````````````

.. code-block:: json

    "EmergencyResponseCenter": {
            "ComponentClass": "StandardiReCoDeSComponent",
            "RecoveryModel": {
                "Type": "NoRecoveryActivityModel",
                "Parameters": {},
                "DamageFunctionalityRelation": {
                    "Type": "Constant"
                }
            },
            "Supply": {
                "FirstResponderEngineer": {
                    "Amount": 50,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "SeniorEngineer": {
                    "Amount": 50,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "Contractor": {
                    "Amount": 50,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "Money": {
                    "Amount": 5500000000,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "PlanCheckEngineeringTeam": {
                    "Amount": 20,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "SitePreparationCrew": {
                    "Amount": 20,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "CleanUpCrew": {
                    "Amount": 20,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "EngineeringDesignTeam": {
                    "Amount": 50,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "DemolitionCrew": {
                    "Amount": 10,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "RepairCrew": {
                    "Amount": 400,
                    "FunctionalityToAmountRelation": "Linear"
                }
            }
        } 

DS0 Residential Building
````````````````````````

.. code-block:: json

    "DS0_ResidentialBuilding": {
            "ComponentClass": "StandardiReCoDeSComponent",
            "RecoveryModel": {
                "Type": "NoRecoveryActivityModel",
                "Parameters": {},
                "DamageFunctionalityRelation": {
                    "Type": "Constant"
                }
            },
            "Supply": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Linear"
                }
            },
            "OperationDemand": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "ElectricPower": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "PotableWater": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "CellularCommunication": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                }
            }
        }

DS1 Residential Building
````````````````````````

.. code-block:: json

    "DS1_ResidentialBuilding": {
            "ComponentClass": "BuildingStockUnitWithEmergencyCalls",
            "RecoveryModel": {
                "Type": "ComponentLevelRecoveryActivitiesModel",
                "Parameters": {
                    "RapidInspection": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 1,
                                "Dispersion": 0.0
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "FirstResponderEngineer",
                                "Amount": 0.1
                            }
                        ],
                        "PrecedingActivities": []
                    },
                    "ContractorMobilization": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 7,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "Contractor",
                                "Amount": 1
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection"
                        ]
                    },
                    "Repair": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 1,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "RepairCrew",
                                "Amount": 10
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "ContractorMobilization"
                        ]
                    }
                },
                "DamageFunctionalityRelation": {
                    "Type": "Constant"
                }
            },
            "Supply": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Linear"
                }
            },
            "OperationDemand": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "ElectricPower": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "PotableWater": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "CellularCommunication": {
                    "Amount": 0,
                    "PostDisasterIncreaseDueToEmergencyCalls": "True",
                    "FunctionalityToAmountRelation": "Linear"
                }
            }
        }

DS2 Residential Building
````````````````````````

.. code-block:: json

    "DS2_ResidentialBuilding": {
            "ComponentClass": "BuildingStockUnitWithEmergencyCalls",
            "RecoveryModel": {
                "Type": "ComponentLevelRecoveryActivitiesModel",
                "Parameters": {
                    "RapidInspection": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 1,
                                "Dispersion": 0.0
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "FirstResponderEngineer",
                                "Amount": 0.1
                            }
                        ],
                        "PrecedingActivities": []
                    },
                    "DetailedInspection": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 7,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "SeniorEngineer",
                                "Amount": 2
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection"
                        ]
                    },
                    "CleanUp": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 3,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "CleanUpCrew",
                                "Amount": 1
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection"
                        ]
                    },
                    "Financing": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 7,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "Money",
                                "Amount": 0
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "DetailedInspection"
                        ]
                    },
                    "ArchAndEngDesign": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 21,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "EngineeringDesignTeam",
                                "Amount": 1
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "DetailedInspection"
                        ]
                    },
                    "ContractorMobilization": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 7,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "Contractor",
                                "Amount": 1
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "DetailedInspection",
                            "ArchAndEngDesign"
                        ]
                    },
                    "Permitting": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 14,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "PlanCheckEngineeringTeam",
                                "Amount": 1
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "DetailedInspection",
                            "ArchAndEngDesign"
                        ]
                    },
                    "Repair": {
                        "Duration": {
                            "Lognormal": {
                                "Median": 1,
                                "Dispersion": 0.2
                            }
                        },
                        "Demand": [
                            {
                                "Resource": "RepairCrew",
                                "Amount": 0
                            }
                        ],
                        "PrecedingActivities": [
                            "RapidInspection",
                            "DetailedInspection",
                            "CleanUp",
                            "Financing",
                            "ArchAndEngDesign",
                            "ContractorMobilization",
                            "Permitting"
                        ]
                    }
                },
                "DamageFunctionalityRelation": {
                    "Type": "ReverseBinary"
                }
            },
            "Supply": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear",
                    "UnmetDemandToAmountRelation": "Linear"
                }
            },
            "OperationDemand": {
                "Shelter": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "FunctionalHousing": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Constant"
                },
                "ElectricPower": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "PotableWater": {
                    "Amount": 0,
                    "FunctionalityToAmountRelation": "Linear"
                },
                "CellularCommunication": {
                    "Amount": 0,
                    "PostDisasterIncreaseDueToEmergencyCalls": "True",
                    "FunctionalityToAmountRelation": "Linear"
                }
            }
        }


DS3 Residential Building
````````````````````````

.. code-block:: json

    "DS3_ResidentialBuilding": {
        "ComponentClass": "BuildingStockUnitWithEmergencyCalls",
        "RecoveryModel": {
            "Type": "ComponentLevelRecoveryActivitiesModel",
            "Parameters": {
                "RapidInspection": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 1,
                            "Dispersion": 0.0
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "FirstResponderEngineer",
                            "Amount": 0.1
                        }
                    ],
                    "PrecedingActivities": []
                },
                "DetailedInspection": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 14,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "SeniorEngineer",
                            "Amount": 2
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "CleanUp": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 7,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "CleanUpCrew",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "SitePreparation": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 7,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "SitePreparationCrew",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "Financing": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 42,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "Money",
                            "Amount": 0
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "DetailedInspection"
                    ]
                },
                "ArchAndEngDesign": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 42,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "EngineeringDesignTeam",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "DetailedInspection"
                    ]
                },
                "ContractorMobilization": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 14,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "Contractor",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "DetailedInspection",
                        "ArchAndEngDesign"
                    ]
                },
                "Permitting": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 28,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "PlanCheckEngineeringTeam",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "DetailedInspection",
                        "ArchAndEngDesign"
                    ]
                },
                "Repair": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 1,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "RepairCrew",
                            "Amount": 0
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "DetailedInspection",
                        "CleanUp",
                        "SitePreparation",
                        "Financing",
                        "ArchAndEngDesign",
                        "ContractorMobilization",
                        "Permitting"
                    ]
                }
            },
            "DamageFunctionalityRelation": {
                "Type": "ReverseBinary"
            }
        },
        "Supply": {
            "Shelter": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Constant"
            },
            "FunctionalHousing": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Linear"
            }
        },
        "OperationDemand": {
            "Shelter": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "FunctionalHousing": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "ElectricPower": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear"
            },
            "PotableWater": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear"
            },
            "CellularCommunication": {
                "Amount": 0,
                "PostDisasterIncreaseDueToEmergencyCalls": "True",
                "FunctionalityToAmountRelation": "Linear"
            }
        }
    }

DS4 Residential Building
````````````````````````

.. code-block:: json

    "DS4_ResidentialBuilding": {
        "ComponentClass": "BuildingStockUnitWithEmergencyCalls",
        "RecoveryModel": {
            "Type": "ComponentLevelRecoveryActivitiesModel",
            "Parameters": {
                "RapidInspection": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 1,
                            "Dispersion": 0.0
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "FirstResponderEngineer",
                            "Amount": 0.1
                        }
                    ],
                    "PrecedingActivities": []
                },
                "CleanUp": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 7,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "CleanUpCrew",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "SitePreparation": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 7,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "SitePreparationCrew",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "Demolition": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 10,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "DemolitionCrew",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "SitePreparation",
                        "CleanUp"
                    ]
                },
                "Financing": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 42,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "Money",
                            "Amount": 0
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "ArchAndEngDesign": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 42,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "EngineeringDesignTeam",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection"
                    ]
                },
                "ContractorMobilization": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 14,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "Contractor",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "ArchAndEngDesign"
                    ]
                },
                "Permitting": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 28,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "PlanCheckEngineeringTeam",
                            "Amount": 1
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "ArchAndEngDesign"
                    ]
                },
                "Repair": {
                    "Duration": {
                        "Lognormal": {
                            "Median": 1,
                            "Dispersion": 0.2
                        }
                    },
                    "Demand": [
                        {
                            "Resource": "RepairCrew",
                            "Amount": 0
                        }
                    ],
                    "PrecedingActivities": [
                        "RapidInspection",
                        "CleanUp",
                        "SitePreparation",
                        "Financing",
                        "ArchAndEngDesign",
                        "ContractorMobilization",
                        "Permitting",
                        "Demolition"
                    ]
                }
            },
            "DamageFunctionalityRelation": {
                "Type": "ReverseBinary"
            }
        },
        "Supply": {
            "Shelter": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Constant"
            },
            "FunctionalHousing": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Linear"
            }
        },
        "OperationDemand": {
            "Shelter": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "FunctionalHousing": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "ElectricPower": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear"
            },
            "PotableWater": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear"
            },
            "CellularCommunication": {
                "Amount": 0,
                "PostDisasterIncreaseDueToEmergencyCalls": "True",
                "FunctionalityToAmountRelation": "Linear"
            }
        }
    }

Electric Power Supply System
````````````````````````````

.. code-block:: json

    "ElectricPowerSupplySystem": {
        "ComponentClass": "InfrastructureInterface",
        "RecoveryModel": {
            "Type": "InfrastructureInterfaceRecoveryModel",
            "Parameters": {},
            "DamageFunctionalityRelation": "MultipleSteps"
        },
        "Supply": {
            "ElectricPower": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Binary"
            }
        },
        "OperationDemand": {
            "CellularCommunication": {
                "Amount": 0.0,
                "FunctionalityToAmountRelation": "Constant"
            }
        }
    }  

Water Supply System
````````````````````````````

.. code-block:: json

    "WaterSupplySystem": {
        "ComponentClass": "InfrastructureInterface",
        "RecoveryModel": {
            "Type": "InfrastructureInterfaceRecoveryModel",
            "Parameters": {},
            "DamageFunctionalityRelation": ""
        },
        "Supply": {
            "PotableWater": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Binary"
            }
        },
        "OperationDemand": {
            "ElectricPower": {
                "Amount": 0.0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "CellularCommunication": {
                "Amount": 0.0,
                "FunctionalityToAmountRelation": "Binary"
            }
        }
    }

Cellular Communication System
`````````````````````````````

.. code-block:: json

    "CellularCommunicationSystem": {
        "ComponentClass": "InfrastructureInterface",
        "RecoveryModel": {
            "Type": "InfrastructureInterfaceRecoveryModel",
            "Parameters": {},
            "DamageFunctionalityRelation": ""
        },
        "Supply": {
            "CellularCommunication": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Linear",
                "UnmetDemandToAmountRelation": "Binary"
            }
        },
        "OperationDemand": {
            "ElectricPower": {
                "Amount": 0.0,
                "FunctionalityToAmountRelation": "Constant"
            },
            "CellularCommunication": {
                "Amount": 0,
                "FunctionalityToAmountRelation": "Binary"
            }
        }
    }

System configuration
--------------------

Explain system configuration file - focus on interfaces

.. code-block:: json

    "Constants": {
        "START_TIME_STEP": 0,
        "MAX_TIME_STEP": 10,
        "DISASTER_TIME_STEP": 1,
        "DS4_REPAIR_DURATION": 240,
        "MAX_REPAIR_CREW_DEMAND_PER_BUILDING": 50,
        "MAX_RESIDENTS_PER_BUILDING": 2000,
        "HOUSING_RESOURCES": ["Shelter"],
        "REPAIR_CREW_DEMAND_PER_SQFT": {
            "DS1": 5400,
            "DS2": 5400,
            "DS3": 2700,
            "DS4": 2700
        },
        "DEFAULT_REPAIR_DURATION_DICT": {
            "Lognormal": {
                "Median": 0,
                "Dispersion": 0.3
            }
        },
        "DEMAND_PER_PERSON": {
            "ElectricPower": 0.02,
            "PotableWater": 150,
            "CellularCommunication": 0.033
        }
    },
    "Content": {
        "Locality 1": {
            "ComponentsInLocality": {
                "Coordinates": {
                    "BoundingBox": {
                        "Latitude": [
                            37.809410,
                            37.809991,
                            37.795523,
                            37.791310
                        ],
                        "Longitude": [
                            -122.426388,
                            -122.397014,
                            -122.391161,
                            -122.422544
                        ]
                    }
                },
                "RecoveryResourceSuppliers": [
                    "EmergencyResponseCenter"
                ],
                "Infrastructure": [
                    {
                        "ElectricPowerSupplySystem": {
                            "Resource": "ElectricPower",
                            "Amount": [
                                150,
                                450
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 0
                                    }
                                },
                                {
                                    "Deterministic": {
                                        "Value": 60
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "WaterSupplySystem": {
                            "Resource": "PotableWater",
                            "Amount": [
                                3400000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 100
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 2.5
                            }
                        }
                    },
                    {
                        "CellularCommunicationSystem": {
                            "Resource": "CellularCommunication",
                            "Amount": [
                                750
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 0
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 0.5
                            }
                        }
                    }
                ],
                "BuildingsInfoFolder": "./Example 3/R2D Output/",
                "BuildingIDsRange": [
                    8000,
                    9000
                ],
                "MaxNumBuildings": 1000,
                "AreaPerPerson": 541
            }
        },
        "Locality 2": {
            "ComponentsInLocality": {
                "Coordinates": {
                    "BoundingBox": {
                        "Latitude": [
                            37.790065,
                            37.803214,
                            37.804204,
                            37.791310
                        ],
                        "Longitude": [
                            -122.432440,
                            -122.432965,
                            -122.425129,
                            -122.422585
                        ]
                    }
                },
                "RecoveryResourceSuppliers": [],
                "Infrastructure": [
                    {
                        "ElectricPowerSupplySystem": {
                            "Resource": "ElectricPower",
                            "Amount": [
                                40,
                                80
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 15
                                    }
                                },
                                {
                                    "Deterministic": {
                                        "Value": 30
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "WaterSupplySystem": {
                            "Resource": "PotableWater",
                            "Amount": [
                                600000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 10
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 1.5
                            }
                        }
                    },
                    {
                        "CellularCommunicationSystem": {
                            "Resource": "CellularCommunication",
                            "Amount": [
                                130
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 5
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 0.2
                            }
                        }
                    }
                ],
                "BuildingsInfoFolder": "./Example 3/R2D Output/",
                "BuildingIDsRange": [
                    8000,
                    9000
                ],
                "MaxNumBuildings": 1000,
                "AreaPerPerson": 541
            }
        },
        "Locality 3": {
            "ComponentsInLocality": {
                "Coordinates": {
                    "BoundingBox": {
                        "Latitude": [
                            37.791342,
                            37.777871,
                            37.776836,
                            37.790065
                        ],
                        "Longitude": [
                            -122.422585,
                            -122.419838,
                            -122.431406,
                            -122.432644
                        ]
                    }
                },
                "RecoveryResourceSuppliers": [],
                "Infrastructure": [
                    {
                        "ElectricPowerSupplySystem": {
                            "Resource": "ElectricPower",
                            "Amount": [
                                60
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 10
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "WaterSupplySystem": {
                            "Resource": "PotableWater",
                            "Amount": [
                                450000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 15
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 1.5
                            }
                        }
                    },
                    {
                        "CellularCommunicationSystem": {
                            "Resource": "CellularCommunication",
                            "Amount": [
                                100
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 5
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 0.2
                            }
                        }
                    }
                ],
                "BuildingsInfoFolder": "./Example 3/R2D Output/",
                "BuildingIDsRange": [
                    8000,
                    9000
                ],
                "MaxNumBuildings": 1000,
                "AreaPerPerson": 541
            }
        },
        "Locality 4": {
            "ComponentsInLocality": {
                "Coordinates": {
                    "BoundingBox": {
                        "Latitude": [
                            37.791388,
                            37.794985,
                            37.775381
                        ],
                        "Longitude": [
                            -122.422568,
                            -122.394280,
                            -122.419321
                        ]
                    }
                },
                "RecoveryResourceSuppliers": [],
                "Infrastructure": [
                    {
                        "ElectricPowerSupplySystem": {
                            "Resource": "ElectricPower",
                            "Amount": [
                                1000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 100
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "WaterSupplySystem": {
                            "Resource": "PotableWater",
                            "Amount": [
                                3600000,
                                7250000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 20
                                    }
                                },
                                {
                                    "Deterministic": {
                                        "Value": 80
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 5
                            }
                        }
                    },
                    {
                        "CellularCommunicationSystem": {
                            "Resource": "CellularCommunication",
                            "Amount": [
                                1600
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 5
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 1
                            }
                        }
                    }
                ],
                "BuildingsInfoFolder": "./Example 3/R2D Output/",
                "BuildingIDsRange": [
                    8000,
                    9000
                ],
                "MaxNumBuildings": 1000,
                "AreaPerPerson": 541
            }
        },
        "Locality 5": {
            "ComponentsInLocality": {
                "Coordinates": {
                    "BoundingBox": {
                        "Latitude": [
                            37.794821,
                            37.777747,
                            37.775757
                        ],
                        "Longitude": [
                            -122.394309,
                            -122.391442,
                            -122.418291
                        ]
                    }
                },
                "RecoveryResourceSuppliers": [],
                "Infrastructure": [
                    {
                        "ElectricPowerSupplySystem": {
                            "Resource": "ElectricPower",
                            "Amount": [
                                85
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 60
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "WaterSupplySystem": {
                            "Resource": "PotableWater",
                            "Amount": [
                                610000
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 80
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 1.5
                            }
                        }
                    },
                    {
                        "CellularCommunicationSystem": {
                            "Resource": "CellularCommunication",
                            "Amount": [
                                140
                            ],
                            "RestoredIn": [
                                {
                                    "Deterministic": {
                                        "Value": 100
                                    }
                                }
                            ],
                            "Demand": {
                                "Resource": "ElectricPower",
                                "Amount": 0.2
                            }
                        }
                    }
                ],
                "BuildingsInfoFolder": "./Example 3/R2D Output/",
                "BuildingIDsRange": [
                    8000,
                    9000
                ],
                "MaxNumBuildings": 1000,
                "AreaPerPerson": 541
            }
        }
    },
    "DamageInput": {
        "Type": "R2DDamageInput",
        "Parameters": {
            "ScenarioID": 1
        }
    },
    "Resources": {
        "Shelter": {
            "Group": "Utilities",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "SupplierOnlyDistributionPriority",
                        "Parameters": {}
                    }
                }
            }
        },
        "FunctionalHousing": {
            "Group": "Utilities",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "SupplierOnlyDistributionPriority",
                        "Parameters": {}
                    }
                }
            }
        },
        "FirstResponderEngineer": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "SeniorEngineer": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "Contractor": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "Money": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "PlanCheckEngineeringTeam": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "SitePreparationCrew": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "CleanUpCrew": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "EngineeringDesignTeam": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "DemolitionCrew": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "RepairCrew": {
            "Group": "RecoveryResources",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriority",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "RecoveryDemand"
                            ]
                        }
                    }
                }
            }
        },
        "ElectricPower": {
            "Group": "Utilities",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriorityWithPrioritizedInterfaces",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "OperationDemand"
                            ]
                        }
                    },
                    "TransferService": "IsolatingLocalitiesTransferService"
                }
            }
        },
        "PotableWater": {
            "Group": "Utilities",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriorityWithPrioritizedInterfaces",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "OperationDemand"
                            ]
                        }
                    },
                    "TransferService": "IsolatingLocalitiesTransferService"
                }
            }
        },
        "CellularCommunication": {
            "Group": "Utilities",
            "IsCommunicationResource": "True",
            "DistributionModel": {
                "Type": "UtilityDistributionModel",
                "Parameters": {
                    "DistributionPriority": {
                        "Type": "RandomPriorityWithPrioritizedInterfaces",
                        "Parameters": {
                            "Seed": 42.0,
                            "DemandType": [
                                "OperationDemand"
                            ]
                        }
                    },
                    "TransferService": "IsolatingLocalitiesTransferService",
                    "IsCommunicationResource": "True"
                }
            }
        },
        "IsolatingLocalitiesTransferService": {
            "Group": "TransferService",
            "DistributionModel": {
                "Type": "TransferServiceDistributionModelPotentialPathSets",
                "Parameters": {
                    "PathSetsFile": "./Example 4/potential_path_sets.json"
                }
            }
        }
    },
    "ResilienceCalculator": [
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "All",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        },
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "Locality 1",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        },
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "Locality 2",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        },
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "Locality 3",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        },
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "Locality 4",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        },
        {
            "Type": "ReCoDeSResilienceCalculator",
            "Parameters": {
                "Scope": "Locality 5",
                "Resources": [
                    "Shelter",
                    "FunctionalHousing",
                    "ElectricPower",
                    "PotableWater",
                    "CellularCommunication"
                ]
            }
        }
    ]
    }

Main
----

.. code-block:: json

    {
        "ComponentLibrary": {
            "ComponentLibraryCreatorClass": "JSONComponentLibraryCreator",
            "ComponentLibraryFile": "./Example 4/NorthEast_SF_Housing_Interface_Infrastructure_ComponentLibrary.json"
        },
        "System": {
            "SystemCreatorClass": "R2DSystemWithInterfacesCreator",
            "SystemClass": "BuiltEnvironmentSystem",
            "SystemConfigurationFile": "./Example 4/NorthEast_SF_Housing_Interface_Infrastructure_Interdependent_SystemConfiguration.json"
        }
    }

Outputs
-------

Add plots